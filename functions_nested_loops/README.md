work on the functions and nested loops